# AI 상담 챗봇 - 감정 인식 및 스트레스 분석 시스템

## 📋 프로젝트 개요

이 프로젝트는 사용자의 텍스트 입력을 통해 감정을 인식하고 스트레스 수치를 분석하여 개인화된 상담 서비스를 제공하는 AI 챗봇 시스템입니다.

### 🎯 주요 기능

1. **감정 인식 / 스트레스 분석**
   - 텍스트 기반 감정 분류 (긍정, 부정, 분노, 불안, 중립)
   - 감정 강도 측정 (1-10점)
   - 스트레스 점수 계산 및 위험도 평가

2. **개인 결과 대시보드**
   - 실시간 스트레스 점수 모니터링
   - 감정 분포 차트
   - 상담 히스토리 및 트렌드 분석

3. **관리자/HR 대시보드**
   - 전체 사용자 현황 통계
   - 고위험 사용자 자동 감지
   - 시스템 전체 분석 데이터

4. **상담 프로그램 자동 추천**
   - 감정 상태별 맞춤 상담 프로그램
   - 스트레스 수준에 따른 긴급 조치 권장
   - 상담 리소스 및 자료 제공

## 🚀 설치 및 실행

### 1. 의존성 설치
```bash
pip install -r requirements.txt
```

### 2. 환경 설정
OpenAI API 키가 이미 코드에 설정되어 있습니다.

### 3. 애플리케이션 실행
```bash
cd app
python main.py
```

### 4. 웹 브라우저에서 접속
- 메인 챗봇: http://localhost:5000
- 개인 대시보드: http://localhost:5000/dashboard/default_user
- 관리자 대시보드: http://localhost:5000/admin/dashboard

## 🏗️ 시스템 아키텍처

### 핵심 모듈

1. **EmotionAnalyzer** (`app/emotion_analyzer.py`)
   - OpenAI GPT-4를 활용한 감정 분석
   - 스트레스 점수 계산 알고리즘
   - 상담 프로그램 추천 시스템

2. **CounselingChatbot** (`app/chatbot.py`)
   - 사용자 메시지 처리
   - AI 상담사 응답 생성
   - 대화 기록 관리

3. **Flask 웹 애플리케이션** (`app/main.py`)
   - RESTful API 엔드포인트
   - 웹 인터페이스 제공
   - 대시보드 데이터 서비스

### 데이터 흐름

```
[1] 사용자 입력 
    ↓
[2] 감정 인식 / 스트레스 분석 (GPT-4)
    ↓
[3] 개인 결과 대시보드 반영 + 관리자/HR 대시보드 통합
    ↓
[4] 상황별 심리 상담 프로그램 자동 추천
```

## 📊 스트레스 점수 계산 알고리즘

### 계산 요소
- **기본 스트레스 수준**: GPT-4 분석 결과 (1-10점)
- **감정 타입별 가중치**:
  - 긍정: 0.3
  - 부정: 0.8
  - 분노: 0.9
  - 불안: 1.0
  - 중립: 0.5
- **상담 빈도**: 최근 7일 내 상담 횟수 (최대 2점 추가)
- **감정 누적 효과**: 최근 10개 감정 중 부정적 감정 비율

### 위험도 평가
- **낮음**: 0-5.9점
- **보통**: 6.0-7.9점
- **높음**: 8.0-10.0점

## 🎨 사용자 인터페이스

### 챗봇 인터페이스
- 실시간 대화형 인터페이스
- 감정 분석 결과 실시간 표시
- 스트레스 점수 및 위험도 시각화

### 개인 대시보드
- 현재 스트레스 점수 및 트렌드
- 감정 분포 차트
- 상담 통계 및 히스토리

### 관리자 대시보드
- 전체 사용자 현황
- 고위험 사용자 알림
- 시스템 통계 및 분석

## 🔧 API 엔드포인트

### 챗봇 API
- `POST /chat`: 사용자 메시지 처리 및 AI 응답

### 대시보드 API
- `GET /api/dashboard/<user_id>`: 개인 대시보드 데이터
- `GET /api/admin/dashboard`: 관리자 대시보드 데이터

## 🛡️ 보안 및 개인정보

- 사용자 데이터는 메모리에 임시 저장 (실제 운영 시 데이터베이스 사용 권장)
- OpenAI API 키는 환경변수로 관리 권장
- HTTPS 적용 권장

## 🔮 향후 개선 사항

1. **데이터베이스 연동**: PostgreSQL/MongoDB 연동
2. **실시간 알림**: 고위험 사용자 자동 알림 시스템
3. **고급 분석**: 머신러닝 기반 예측 모델
4. **모바일 앱**: React Native/iOS/Android 앱 개발
5. **다국어 지원**: 영어, 일본어 등 추가 언어 지원

## 📝 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 🤝 기여하기

버그 리포트, 기능 제안, 풀 리퀘스트를 환영합니다!
